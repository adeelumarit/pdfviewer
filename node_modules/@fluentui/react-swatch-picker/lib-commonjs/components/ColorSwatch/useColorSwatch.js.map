{"version":3,"sources":["useColorSwatch.js"],"sourcesContent":["import * as React from 'react';\nimport { slot, useEventCallback, getIntrinsicElementProps, mergeCallbacks } from '@fluentui/react-utilities';\nimport { useSwatchPickerContextValue_unstable } from '../../contexts/swatchPicker';\nimport { swatchCSSVars } from './useColorSwatchStyles.styles';\nimport { ProhibitedFilled } from '@fluentui/react-icons';\nimport { tokens } from '@fluentui/react-theme';\n/**\n * Create the state required to render ColorSwatch.\n *\n * The returned state can be modified with hooks such as useColorSwatchStyles_unstable,\n * before being passed to renderColorSwatch_unstable.\n *\n * @param props - props from this instance of ColorSwatch\n * @param ref - reference to root HTMLButtonElement of ColorSwatch\n */ export const useColorSwatch_unstable = (props, ref)=>{\n    const { borderColor, color, disabled, disabledIcon, icon, value, onClick, size, shape, style, ...rest } = props;\n    const _size = useSwatchPickerContextValue_unstable((ctx)=>ctx.size);\n    const _shape = useSwatchPickerContextValue_unstable((ctx)=>ctx.shape);\n    const isGrid = useSwatchPickerContextValue_unstable((ctx)=>ctx.isGrid);\n    const requestSelectionChange = useSwatchPickerContextValue_unstable((ctx)=>ctx.requestSelectionChange);\n    const selected = useSwatchPickerContextValue_unstable((ctx)=>ctx.selectedValue === value);\n    const onColorSwatchClick = useEventCallback(mergeCallbacks(onClick, (event)=>requestSelectionChange(event, {\n            selectedValue: value,\n            selectedSwatch: color\n        })));\n    const rootVariables = {\n        [swatchCSSVars.color]: color,\n        [swatchCSSVars.borderColor]: borderColor !== null && borderColor !== void 0 ? borderColor : tokens.colorTransparentStroke\n    };\n    const role = isGrid ? 'gridcell' : 'radio';\n    const ariaSelected = isGrid ? {\n        'aria-selected': selected\n    } : {\n        'aria-checked': selected\n    };\n    const iconShorthand = slot.optional(icon, {\n        elementType: 'span'\n    });\n    const disabledIconShorthand = slot.optional(disabledIcon, {\n        defaultProps: {\n            children: /*#__PURE__*/ React.createElement(ProhibitedFilled, null)\n        },\n        renderByDefault: true,\n        elementType: 'span'\n    });\n    return {\n        components: {\n            root: 'button',\n            icon: 'span',\n            disabledIcon: 'span'\n        },\n        root: slot.always(getIntrinsicElementProps('button', {\n            ref,\n            role,\n            ...ariaSelected,\n            onClick: onColorSwatchClick,\n            type: 'button',\n            disabled,\n            ...rest,\n            style: {\n                ...rootVariables,\n                ...style\n            }\n        }), {\n            elementType: 'button'\n        }),\n        icon: iconShorthand,\n        disabledIcon: disabledIconShorthand,\n        disabled,\n        size: size !== null && size !== void 0 ? size : _size,\n        shape: shape !== null && shape !== void 0 ? shape : _shape,\n        selected,\n        color,\n        value\n    };\n};\n"],"names":["useColorSwatch_unstable","props","ref","borderColor","color","disabled","disabledIcon","icon","value","onClick","size","shape","style","rest","_size","useSwatchPickerContextValue_unstable","ctx","_shape","isGrid","requestSelectionChange","selected","selectedValue","onColorSwatchClick","useEventCallback","mergeCallbacks","event","selectedSwatch","rootVariables","swatchCSSVars","tokens","colorTransparentStroke","role","ariaSelected","iconShorthand","slot","optional","elementType","disabledIconShorthand","defaultProps","children","React","createElement","ProhibitedFilled","renderByDefault","components","root","always","getIntrinsicElementProps","type"],"mappings":";;;;+BAciBA;;;eAAAA;;;;iEAdM;gCAC0D;8BAC5B;4CACvB;4BACG;4BACV;AASZ,MAAMA,0BAA0B,CAACC,OAAOC;IAC/C,MAAM,EAAEC,WAAW,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,IAAI,EAAEC,KAAK,EAAEC,OAAO,EAAEC,IAAI,EAAEC,KAAK,EAAEC,KAAK,EAAE,GAAGC,MAAM,GAAGZ;IAC1G,MAAMa,QAAQC,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIN,IAAI;IAClE,MAAMO,SAASF,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIL,KAAK;IACpE,MAAMO,SAASH,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIE,MAAM;IACrE,MAAMC,yBAAyBJ,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIG,sBAAsB;IACrG,MAAMC,WAAWL,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIK,aAAa,KAAKb;IACnF,MAAMc,qBAAqBC,IAAAA,gCAAgB,EAACC,IAAAA,8BAAc,EAACf,SAAS,CAACgB,QAAQN,uBAAuBM,OAAO;YACnGJ,eAAeb;YACfkB,gBAAgBtB;QACpB;IACJ,MAAMuB,gBAAgB;QAClB,CAACC,yCAAa,CAACxB,KAAK,CAAC,EAAEA;QACvB,CAACwB,yCAAa,CAACzB,WAAW,CAAC,EAAEA,gBAAgB,QAAQA,gBAAgB,KAAK,IAAIA,cAAc0B,kBAAM,CAACC,sBAAsB;IAC7H;IACA,MAAMC,OAAOb,SAAS,aAAa;IACnC,MAAMc,eAAed,SAAS;QAC1B,iBAAiBE;IACrB,IAAI;QACA,gBAAgBA;IACpB;IACA,MAAMa,gBAAgBC,oBAAI,CAACC,QAAQ,CAAC5B,MAAM;QACtC6B,aAAa;IACjB;IACA,MAAMC,wBAAwBH,oBAAI,CAACC,QAAQ,CAAC7B,cAAc;QACtDgC,cAAc;YACVC,UAAU,WAAW,GAAGC,OAAMC,aAAa,CAACC,4BAAgB,EAAE;QAClE;QACAC,iBAAiB;QACjBP,aAAa;IACjB;IACA,OAAO;QACHQ,YAAY;YACRC,MAAM;YACNtC,MAAM;YACND,cAAc;QAClB;QACAuC,MAAMX,oBAAI,CAACY,MAAM,CAACC,IAAAA,wCAAwB,EAAC,UAAU;YACjD7C;YACA6B;YACA,GAAGC,YAAY;YACfvB,SAASa;YACT0B,MAAM;YACN3C;YACA,GAAGQ,IAAI;YACPD,OAAO;gBACH,GAAGe,aAAa;gBAChB,GAAGf,KAAK;YACZ;QACJ,IAAI;YACAwB,aAAa;QACjB;QACA7B,MAAM0B;QACN3B,cAAc+B;QACdhC;QACAK,MAAMA,SAAS,QAAQA,SAAS,KAAK,IAAIA,OAAOI;QAChDH,OAAOA,UAAU,QAAQA,UAAU,KAAK,IAAIA,QAAQM;QACpDG;QACAhB;QACAI;IACJ;AACJ"}
{"version":3,"sources":["useImageSwatch.js"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, slot, useEventCallback, mergeCallbacks } from '@fluentui/react-utilities';\nimport { useSwatchPickerContextValue_unstable } from '../../contexts/swatchPicker';\n/**\n * Create the state required to render ImageSwatch.\n *\n * The returned state can be modified with hooks such as useImageSwatchStyles_unstable,\n * before being passed to renderImageSwatch_unstable.\n *\n * @param props - props from this instance of ImageSwatch\n * @param ref - reference to root HTMLDivElement of ImageSwatch\n */ export const useImageSwatch_unstable = (props, ref)=>{\n    const { src, value, onClick, style, ...rest } = props;\n    const size = useSwatchPickerContextValue_unstable((ctx)=>ctx.size);\n    const shape = useSwatchPickerContextValue_unstable((ctx)=>ctx.shape);\n    const isGrid = useSwatchPickerContextValue_unstable((ctx)=>ctx.isGrid);\n    const requestSelectionChange = useSwatchPickerContextValue_unstable((ctx)=>ctx.requestSelectionChange);\n    const selected = useSwatchPickerContextValue_unstable((ctx)=>ctx.selectedValue === value);\n    const role = isGrid ? 'gridcell' : 'radio';\n    const ariaSelected = isGrid ? {\n        'aria-selected': selected\n    } : {\n        'aria-checked': selected\n    };\n    const onImageSwatchClick = useEventCallback(mergeCallbacks(onClick, (event)=>requestSelectionChange(event, {\n            selectedValue: value,\n            selectedSwatch: src\n        })));\n    return {\n        components: {\n            root: 'button'\n        },\n        root: slot.always(getIntrinsicElementProps('button', {\n            ref,\n            role,\n            ...ariaSelected,\n            onClick: onImageSwatchClick,\n            ...rest,\n            style: {\n                backgroundImage: `url(${src})`,\n                ...style\n            }\n        }), {\n            elementType: 'button'\n        }),\n        value,\n        selected,\n        size,\n        shape\n    };\n};\n"],"names":["useImageSwatch_unstable","props","ref","src","value","onClick","style","rest","size","useSwatchPickerContextValue_unstable","ctx","shape","isGrid","requestSelectionChange","selected","selectedValue","role","ariaSelected","onImageSwatchClick","useEventCallback","mergeCallbacks","event","selectedSwatch","components","root","slot","always","getIntrinsicElementProps","backgroundImage","elementType"],"mappings":";;;;+BAWiBA;;;eAAAA;;;;iEAXM;gCAC0D;8BAC5B;AAS1C,MAAMA,0BAA0B,CAACC,OAAOC;IAC/C,MAAM,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAE,GAAGC,MAAM,GAAGN;IAChD,MAAMO,OAAOC,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIF,IAAI;IACjE,MAAMG,QAAQF,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIC,KAAK;IACnE,MAAMC,SAASH,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIE,MAAM;IACrE,MAAMC,yBAAyBJ,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIG,sBAAsB;IACrG,MAAMC,WAAWL,IAAAA,kDAAoC,EAAC,CAACC,MAAMA,IAAIK,aAAa,KAAKX;IACnF,MAAMY,OAAOJ,SAAS,aAAa;IACnC,MAAMK,eAAeL,SAAS;QAC1B,iBAAiBE;IACrB,IAAI;QACA,gBAAgBA;IACpB;IACA,MAAMI,qBAAqBC,IAAAA,gCAAgB,EAACC,IAAAA,8BAAc,EAACf,SAAS,CAACgB,QAAQR,uBAAuBQ,OAAO;YACnGN,eAAeX;YACfkB,gBAAgBnB;QACpB;IACJ,OAAO;QACHoB,YAAY;YACRC,MAAM;QACV;QACAA,MAAMC,oBAAI,CAACC,MAAM,CAACC,IAAAA,wCAAwB,EAAC,UAAU;YACjDzB;YACAc;YACA,GAAGC,YAAY;YACfZ,SAASa;YACT,GAAGX,IAAI;YACPD,OAAO;gBACHsB,iBAAiB,CAAC,IAAI,EAAEzB,IAAI,CAAC,CAAC;gBAC9B,GAAGG,KAAK;YACZ;QACJ,IAAI;YACAuB,aAAa;QACjB;QACAzB;QACAU;QACAN;QACAG;IACJ;AACJ"}
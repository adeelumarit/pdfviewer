{"version":3,"sources":["useTagPickerButton.js"],"sourcesContent":["import * as React from 'react';\nimport { useActiveDescendantContext } from '@fluentui/react-aria';\nimport { useTagPickerContext_unstable } from '../../contexts/TagPickerContext';\nimport { useButtonTriggerSlot } from '@fluentui/react-combobox';\n/**\n * Create the state required to render PickerButton.\n *\n * The returned state can be modified with hooks such as usePickerButtonStyles_unstable,\n * before being passed to renderPickerButton_unstable.\n *\n * @param props - props from this instance of PickerButton\n * @param ref - reference to root HTMLDivElement of PickerButton\n */ export const useTagPickerButton_unstable = (props, ref)=>{\n    const { controller: activeDescendantController } = useActiveDescendantContext();\n    const triggerRef = useTagPickerContext_unstable((ctx)=>ctx.triggerRef);\n    const open = useTagPickerContext_unstable((ctx)=>ctx.open);\n    const value = useTagPickerContext_unstable((ctx)=>ctx.value);\n    const hasSelectedOption = useTagPickerContext_unstable((ctx)=>ctx.selectedOptions.length > 0);\n    const popoverId = useTagPickerContext_unstable((ctx)=>ctx.popoverId);\n    const getOptionById = useTagPickerContext_unstable((ctx)=>ctx.getOptionById);\n    const selectOption = useTagPickerContext_unstable((ctx)=>ctx.selectOption);\n    const setHasFocus = useTagPickerContext_unstable((ctx)=>ctx.setHasFocus);\n    const setOpen = useTagPickerContext_unstable((ctx)=>ctx.setOpen);\n    // casting is required here as triggerRef can either be button or input,\n    // but in this case we can assure it's a button\n    const root = useButtonTriggerSlot(props, triggerRef, {\n        activeDescendantController,\n        defaultProps: {\n            type: 'button',\n            tabIndex: 0,\n            children: value || props.placeholder,\n            'aria-controls': open ? popoverId : undefined,\n            ref\n        },\n        state: {\n            getOptionById,\n            open,\n            selectOption,\n            setHasFocus,\n            setOpen,\n            multiselect: true\n        }\n    });\n    const size = useTagPickerContext_unstable((ctx)=>ctx.size);\n    const state = {\n        components: {\n            root: 'button'\n        },\n        root,\n        size,\n        hasSelectedOption\n    };\n    return state;\n};\n"],"names":["useTagPickerButton_unstable","props","ref","controller","activeDescendantController","useActiveDescendantContext","triggerRef","useTagPickerContext_unstable","ctx","open","value","hasSelectedOption","selectedOptions","length","popoverId","getOptionById","selectOption","setHasFocus","setOpen","root","useButtonTriggerSlot","defaultProps","type","tabIndex","children","placeholder","undefined","state","multiselect","size","components"],"mappings":";;;;+BAYiBA;;;eAAAA;;;;iEAZM;2BACoB;kCACE;+BACR;AAS1B,MAAMA,8BAA8B,CAACC,OAAOC;IACnD,MAAM,EAAEC,YAAYC,0BAA0B,EAAE,GAAGC,IAAAA,qCAA0B;IAC7E,MAAMC,aAAaC,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIF,UAAU;IACrE,MAAMG,OAAOF,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIC,IAAI;IACzD,MAAMC,QAAQH,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIE,KAAK;IAC3D,MAAMC,oBAAoBJ,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAII,eAAe,CAACC,MAAM,GAAG;IAC3F,MAAMC,YAAYP,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIM,SAAS;IACnE,MAAMC,gBAAgBR,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIO,aAAa;IAC3E,MAAMC,eAAeT,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIQ,YAAY;IACzE,MAAMC,cAAcV,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIS,WAAW;IACvE,MAAMC,UAAUX,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIU,OAAO;IAC/D,wEAAwE;IACxE,+CAA+C;IAC/C,MAAMC,OAAOC,IAAAA,mCAAoB,EAACnB,OAAOK,YAAY;QACjDF;QACAiB,cAAc;YACVC,MAAM;YACNC,UAAU;YACVC,UAAUd,SAAST,MAAMwB,WAAW;YACpC,iBAAiBhB,OAAOK,YAAYY;YACpCxB;QACJ;QACAyB,OAAO;YACHZ;YACAN;YACAO;YACAC;YACAC;YACAU,aAAa;QACjB;IACJ;IACA,MAAMC,OAAOtB,IAAAA,8CAA4B,EAAC,CAACC,MAAMA,IAAIqB,IAAI;IACzD,MAAMF,QAAQ;QACVG,YAAY;YACRX,MAAM;QACV;QACAA;QACAU;QACAlB;IACJ;IACA,OAAOgB;AACX"}
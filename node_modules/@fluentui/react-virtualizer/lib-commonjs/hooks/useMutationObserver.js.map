{"version":3,"sources":["useMutationObserver.js"],"sourcesContent":["import * as React from 'react';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nconst { useRef, useEffect } = React;\nexport const useMutationObserver = (target, callback, options)=>{\n    // TODO: exclude types from this lint rule: https://github.com/microsoft/fluentui/issues/31286\n    // eslint-disable-next-line no-restricted-globals\n    const observer = useRef();\n    const { targetDocument } = useFluent();\n    const win = targetDocument === null || targetDocument === void 0 ? void 0 : targetDocument.defaultView;\n    useEffect(()=>{\n        if (!win) {\n            return;\n        }\n        // Create an observer instance linked to the callback function\n        observer.current = new win.MutationObserver(callback);\n    }, [\n        callback,\n        win\n    ]);\n    useEffect(()=>{\n        if (target) {\n            var // Start observing the target node for configured mutations\n            _observer_current;\n            (_observer_current = observer.current) === null || _observer_current === void 0 ? void 0 : _observer_current.observe(target, options);\n        }\n        return ()=>{\n            var _observer_current;\n            (_observer_current = observer.current) === null || _observer_current === void 0 ? void 0 : _observer_current.disconnect();\n        };\n    }, [\n        target,\n        options\n    ]);\n    return {\n        observer\n    };\n};\n"],"names":["useMutationObserver","useRef","useEffect","React","target","callback","options","observer","targetDocument","useFluent","win","defaultView","current","MutationObserver","_observer_current","observe","disconnect"],"mappings":";;;;+BAGaA;;;eAAAA;;;;iEAHU;qCACyB;AAChD,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAE,GAAGC;AACvB,MAAMH,sBAAsB,CAACI,QAAQC,UAAUC;IAClD,8FAA8F;IAC9F,iDAAiD;IACjD,MAAMC,WAAWN;IACjB,MAAM,EAAEO,cAAc,EAAE,GAAGC,IAAAA,uCAAS;IACpC,MAAMC,MAAMF,mBAAmB,QAAQA,mBAAmB,KAAK,IAAI,KAAK,IAAIA,eAAeG,WAAW;IACtGT,UAAU;QACN,IAAI,CAACQ,KAAK;YACN;QACJ;QACA,8DAA8D;QAC9DH,SAASK,OAAO,GAAG,IAAIF,IAAIG,gBAAgB,CAACR;IAChD,GAAG;QACCA;QACAK;KACH;IACDR,UAAU;QACN,IAAIE,QAAQ;YACR,IACAU;YACCA,CAAAA,oBAAoBP,SAASK,OAAO,AAAD,MAAO,QAAQE,sBAAsB,KAAK,IAAI,KAAK,IAAIA,kBAAkBC,OAAO,CAACX,QAAQE;QACjI;QACA,OAAO;YACH,IAAIQ;YACHA,CAAAA,oBAAoBP,SAASK,OAAO,AAAD,MAAO,QAAQE,sBAAsB,KAAK,IAAI,KAAK,IAAIA,kBAAkBE,UAAU;QAC3H;IACJ,GAAG;QACCZ;QACAE;KACH;IACD,OAAO;QACHC;IACJ;AACJ"}
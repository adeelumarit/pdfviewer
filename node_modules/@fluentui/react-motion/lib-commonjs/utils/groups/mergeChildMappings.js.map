{"version":3,"sources":["mergeChildMappings.js"],"sourcesContent":["/**\n * When you're adding or removing children some may be added or removed in the same render pass. We want to show *both*\n * since we want to simultaneously animate elements in and out. This function takes a previous set of keys and a new set\n * of keys and merges them with its best guess of the correct ordering.\n */ export function mergeChildMappings(prevMapping, nextMapping) {\n    function getValueForKey(key) {\n        return key in nextMapping ? nextMapping[key] : prevMapping[key];\n    }\n    // For each key of `next`, the list of keys to insert before that key in\n    // the combined list\n    const nextKeysPending = {};\n    let pendingKeys = [];\n    // eslint-disable-next-line guard-for-in\n    for(const prevKey in prevMapping){\n        if (prevKey in nextMapping) {\n            if (pendingKeys.length) {\n                nextKeysPending[prevKey] = pendingKeys;\n                pendingKeys = [];\n            }\n            continue;\n        }\n        pendingKeys.push(prevKey);\n    }\n    const childMapping = {};\n    // eslint-disable-next-line guard-for-in\n    for(const nextKey in nextMapping){\n        if (nextKeysPending[nextKey]) {\n            for (const pendingNextKey of nextKeysPending[nextKey]){\n                childMapping[pendingNextKey] = getValueForKey(pendingNextKey);\n            }\n        }\n        childMapping[nextKey] = getValueForKey(nextKey);\n    }\n    // Finally, add the keys which didn't appear before any key in `next`\n    for (const pendingKey of pendingKeys){\n        childMapping[pendingKey] = getValueForKey(pendingKey);\n    }\n    return childMapping;\n}\n"],"names":["mergeChildMappings","prevMapping","nextMapping","getValueForKey","key","nextKeysPending","pendingKeys","prevKey","length","push","childMapping","nextKey","pendingNextKey","pendingKey"],"mappings":"AAAA;;;;CAIC;;;;+BAAmBA;;;eAAAA;;;AAAT,SAASA,mBAAmBC,WAAW,EAAEC,WAAW;IAC3D,SAASC,eAAeC,GAAG;QACvB,OAAOA,OAAOF,cAAcA,WAAW,CAACE,IAAI,GAAGH,WAAW,CAACG,IAAI;IACnE;IACA,wEAAwE;IACxE,oBAAoB;IACpB,MAAMC,kBAAkB,CAAC;IACzB,IAAIC,cAAc,EAAE;IACpB,wCAAwC;IACxC,IAAI,MAAMC,WAAWN,YAAY;QAC7B,IAAIM,WAAWL,aAAa;YACxB,IAAII,YAAYE,MAAM,EAAE;gBACpBH,eAAe,CAACE,QAAQ,GAAGD;gBAC3BA,cAAc,EAAE;YACpB;YACA;QACJ;QACAA,YAAYG,IAAI,CAACF;IACrB;IACA,MAAMG,eAAe,CAAC;IACtB,wCAAwC;IACxC,IAAI,MAAMC,WAAWT,YAAY;QAC7B,IAAIG,eAAe,CAACM,QAAQ,EAAE;YAC1B,KAAK,MAAMC,kBAAkBP,eAAe,CAACM,QAAQ,CAAC;gBAClDD,YAAY,CAACE,eAAe,GAAGT,eAAeS;YAClD;QACJ;QACAF,YAAY,CAACC,QAAQ,GAAGR,eAAeQ;IAC3C;IACA,qEAAqE;IACrE,KAAK,MAAME,cAAcP,YAAY;QACjCI,YAAY,CAACG,WAAW,GAAGV,eAAeU;IAC9C;IACA,OAAOH;AACX"}
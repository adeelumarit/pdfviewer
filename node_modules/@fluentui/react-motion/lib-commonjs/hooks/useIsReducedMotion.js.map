{"version":3,"sources":["useIsReducedMotion.js"],"sourcesContent":["import * as React from 'react';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nconst REDUCED_MEDIA_QUERY = 'screen and (prefers-reduced-motion: reduce)';\n// TODO: find a better approach there as each hook creates a separate subscription\nexport function useIsReducedMotion() {\n    const { targetDocument } = useFluent();\n    var _targetDocument_defaultView;\n    const targetWindow = (_targetDocument_defaultView = targetDocument === null || targetDocument === void 0 ? void 0 : targetDocument.defaultView) !== null && _targetDocument_defaultView !== void 0 ? _targetDocument_defaultView : null;\n    const queryValue = React.useRef(false);\n    const isEnabled = React.useCallback(()=>queryValue.current, []);\n    React.useEffect(()=>{\n        if (targetWindow === null || typeof targetWindow.matchMedia !== 'function') {\n            return;\n        }\n        const queryMatch = targetWindow.matchMedia(REDUCED_MEDIA_QUERY);\n        if (queryMatch.matches) {\n            queryValue.current = true;\n        }\n        const matchListener = (e)=>{\n            queryValue.current = e.matches;\n        };\n        queryMatch.addEventListener('change', matchListener);\n        return ()=>{\n            queryMatch.removeEventListener('change', matchListener);\n        };\n    }, [\n        targetWindow\n    ]);\n    return isEnabled;\n}\n"],"names":["useIsReducedMotion","REDUCED_MEDIA_QUERY","targetDocument","useFluent","_targetDocument_defaultView","targetWindow","defaultView","queryValue","React","useRef","isEnabled","useCallback","current","useEffect","matchMedia","queryMatch","matches","matchListener","e","addEventListener","removeEventListener"],"mappings":";;;;+BAIgBA;;;eAAAA;;;;iEAJO;qCACyB;AAChD,MAAMC,sBAAsB;AAErB,SAASD;IACZ,MAAM,EAAEE,cAAc,EAAE,GAAGC,IAAAA,uCAAS;IACpC,IAAIC;IACJ,MAAMC,eAAe,AAACD,CAAAA,8BAA8BF,mBAAmB,QAAQA,mBAAmB,KAAK,IAAI,KAAK,IAAIA,eAAeI,WAAW,AAAD,MAAO,QAAQF,gCAAgC,KAAK,IAAIA,8BAA8B;IACnO,MAAMG,aAAaC,OAAMC,MAAM,CAAC;IAChC,MAAMC,YAAYF,OAAMG,WAAW,CAAC,IAAIJ,WAAWK,OAAO,EAAE,EAAE;IAC9DJ,OAAMK,SAAS,CAAC;QACZ,IAAIR,iBAAiB,QAAQ,OAAOA,aAAaS,UAAU,KAAK,YAAY;YACxE;QACJ;QACA,MAAMC,aAAaV,aAAaS,UAAU,CAACb;QAC3C,IAAIc,WAAWC,OAAO,EAAE;YACpBT,WAAWK,OAAO,GAAG;QACzB;QACA,MAAMK,gBAAgB,CAACC;YACnBX,WAAWK,OAAO,GAAGM,EAAEF,OAAO;QAClC;QACAD,WAAWI,gBAAgB,CAAC,UAAUF;QACtC,OAAO;YACHF,WAAWK,mBAAmB,CAAC,UAAUH;QAC7C;IACJ,GAAG;QACCZ;KACH;IACD,OAAOK;AACX"}